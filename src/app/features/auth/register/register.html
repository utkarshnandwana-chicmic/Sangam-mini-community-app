<div class="auth-wrapper">
  <div class="register-container">

    <div class="alert-overlay" *ngIf="errorMessage">
      <div *ngIf="errorMessage" class="alert error animate-slide-in">
        <span class="icon">⚠️</span> {{ errorMessage }}
      </div>
    </div>

    <div class="step-content">
      <app-phone-step 
        *ngIf="currentStep === 1" 
        [phoneForm]="phoneForm" 
        [isLoading]="isLoading" 
        (onNext)="sendPhone()">
      </app-phone-step>

      <app-otp-step 
        *ngIf="currentStep === 2" 
        [otpForm]="otpForm" 
        [isLoading]="isLoading" 
        (onBack)="currentStep = 1"
        (onVerify)="verifyOtp()">
      </app-otp-step>

      <app-profile-step 
        *ngIf="currentStep === 3" 
        [profileForm]="profileForm" 
        [isLoading]="isLoading" 
        (onSubmit)="completeRegistration()">
      </app-profile-step>

      <div *ngIf="currentStep === 4" class="completion-card animate-fade-in">
        <div class="success-animation">
          <div class="check-wrapper">
            <span class="checkmark">L</span>
          </div>
        </div>
        <h2>Welcome, {{ profileForm.get('name')?.value }}!</h2>
        <p>Setting up your feed...</p>
        <div class="mini-loader"></div>
      </div>
    </div>

  </div>
</div>
